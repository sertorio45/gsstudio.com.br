import{a as L}from"./CCb-kr4I.js";import{u as B,b as N,_ as C}from"./PCD9e6Ar.js";import{u as F}from"./Mx3XjzWx.js";import{u as H}from"./DHfgFqlv.js";import{d as R,c as r,w as G,q as V,E as i,G as s,F as z,X as O,Y as j,W as I,Z as g,C as _,_ as q,$ as W,H as p,D as l}from"./BvFpDmto.js";const X=R({name:"ArticleDetail",setup(){const e=r(null),t=r(!0),b=r(!1),h=r([]),v=B(),f=N(),n="https://str-gsstudio.gsstudio.com.br",d=r(""),u=r(!1),m=r(!1),c=r(!1),S=async o=>{try{const a=await L.get(`${n}/articles?slug=${o}`);a.data.length&&(e.value=a.data[0])}catch(a){console.error("Erro ao buscar o artigo:",a)}finally{t.value=!1}},y=o=>o.thumb&&o.thumb.url?new URL(o.thumb.url,n).href:"https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp",T=o=>{if(!o)return"";const a={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(o).toLocaleDateString("pt-BR",a)},k=o=>o&&o.thumb&&o.thumb.url,D=()=>{b.value=!0},E=o=>{const a=o.target;a.src="https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp"},$=()=>{f.go(-1)},M=o=>{o.name==="Link"?navigator.clipboard.writeText(o.url):window.open(o.url,"_blank","noopener,noreferrer")},U=async()=>{u.value=!0,m.value=!1,c.value=!1;const o="https://webhook.gsstudio.com.br/webhook/gsstudionewsletter";try{const a=await L.post(o,{email:d.value},{headers:{"Content-Type":"application/json"}});a.status>=200&&a.status<300?(m.value=!0,setTimeout(()=>{d.value="",m.value=!1},2e3)):c.value=!0}catch{c.value=!0}finally{u.value=!1}};return G(e,o=>{if(o){const a=window.location.href,w=k(o)?y(o):"https://gsstudio.com.br/img/thumb_gsstudio.jpg";F({title:o.titulo,description:o.seo_description,keywords:o.seo_keywords,ogTitle:o.titulo,ogDescription:o.seo_description,ogUrl:a,ogSiteName:"GS STUDIO",ogLocale:"pt_BR",ogImage:w,ogImageAlt:o.titulo||"GS STUDIO - Marketing, comunicação e desenvolvimento web",ogType:"article"}),H({meta:[{name:"robots",content:"index, follow"},{name:"canonical",content:a},{property:"og:type",content:"article"},{property:"og:title",content:o.titulo},{property:"og:description",content:o.seo_description},{property:"og:url",content:a},{property:"og:site_name",content:"GS STUDIO"},{property:"og:image",content:w},{property:"og:image:width",content:"1200"},{property:"og:image:height",content:"600"},{property:"og:image:alt",content:o.titulo||"GS STUDIO - Marketing, comunicação e desenvolvimento web"}]})}}),console.log(v.params.slug),V(async()=>{const o=v.params.slug;await S(o),h.value=[{name:"Facebook",url:`https://facebook.com/sharer/sharer.php?u=${window.location.href}`,icon:"bx bxl-facebook"},{name:"Twitter",url:`https://twitter.com/intent/tweet?url=${window.location.href}`,icon:"bx bxl-twitter"},{name:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&url=${window.location.href}`,icon:"bx bxl-linkedin"},{name:"WhatsApp",url:`https://wa.me/?text=${window.location.href}`,icon:"bx bxl-whatsapp"},{name:"Email",url:`mailto:?subject=Confira este artigo&body=${window.location.href}`,icon:"bx bx-envelope"},{name:"Link",url:window.location.href,icon:"bx bx-link"}]}),{article:e,loading:t,imageLoaded:b,email:d,socialNetworks:h,getArticleImage:y,hasThumbnail:k,formatDate:T,onImageLoad:D,goBack:$,share:M,submitNewsletterForm:U,handleImageError:E,isSubmitting:u,success:m,error:c}}}),Y={class:"my-5",id:"article-detail"},Z={class:"container my-5"},J={class:"row"},K={class:"col-lg-2 col-sm-12 col-md-12 mb-4"},P={class:"back-fixed"},Q={class:"social-share d-flex"},A=["href","title","onClick"],x={class:"col-sm-7 col-md-12 col-lg-7"},ee={key:0},oe={key:1,class:"content_blog"},te={class:"mb-3 mx-0"},se={class:"article-category"},ne=["innerHTML"],ae={class:"my-4"},ie={key:0},le=["srcset"],re=["src","alt"],de=["innerHTML"],ue={key:2},me={class:"col-sm-12 col-md-12 col-lg-3"},ce={class:"newsletter-cta p-4 bg-light rounded news-fixed my-xl-0 my-4"},ge={class:"mb-3"},pe={class:""},be=["disabled"],he={key:0},ve={key:1},fe={key:2},ye={key:3};function ke(e,t,b,h,v,f){return l(),i("main",null,[s("section",Y,[s("div",Z,[s("div",J,[s("div",K,[s("div",P,[s("button",{onClick:t[0]||(t[0]=(...n)=>e.goBack&&e.goBack(...n)),class:"btn btn-primary-border"},"< Voltar"),s("div",Q,[(l(!0),i(z,null,O(e.socialNetworks,(n,d)=>(l(),i("a",{key:d,href:n.url,target:"_blank",class:"social-icon",title:n.name,onClick:_(u=>e.share(n),["prevent"])},[s("i",{class:g(n.icon)},null,2)],8,A))),128))])])]),s("div",x,[e.loading?(l(),i("div",ee,t[7]||(t[7]=[j('<div class="d-flex mb-3" data-v-22e6802d><div class="skeleton skeleton-category me-2" data-v-22e6802d></div><div class="skeleton skeleton-date" data-v-22e6802d></div></div><div class="skeleton skeleton-title mb-3" data-v-22e6802d></div><div class="skeleton skeleton-img mb-3" data-v-22e6802d></div><div class="skeleton skeleton-content mb-3" data-v-22e6802d></div>',4)]))):e.article?(l(),i("div",oe,[s("div",te,[s("span",se,I(e.article.category.title),1),s("span",{innerHTML:e.formatDate(e.article.published_at),class:"mx-3 publish_date"},null,8,ne)]),s("h1",null,I(e.article.titulo),1),s("div",ae,[e.hasThumbnail(e.article)?(l(),i("picture",ie,[s("source",{srcset:e.getArticleImage(e.article),onLoad:t[1]||(t[1]=(...n)=>e.onImageLoad&&e.onImageLoad(...n))},null,40,le),s("img",{src:e.getArticleImage(e.article),class:g(["img-fluid blur-effect",{blurred:!e.imageLoaded}]),alt:e.article.titulo,onLoad:t[2]||(t[2]=(...n)=>e.onImageLoad&&e.onImageLoad(...n)),onError:t[3]||(t[3]=(...n)=>e.handleImageError&&e.handleImageError(...n)),loading:"lazy"},null,42,re)])):(l(),i("img",{key:1,src:"https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp",class:g(["img-fluid blur-effect",{blurred:!e.imageLoaded}]),alt:"Default Image",loading:"lazy",onLoad:t[4]||(t[4]=(...n)=>e.onImageLoad&&e.onImageLoad(...n)),style:{width:"100%"}},null,34))]),s("div",{innerHTML:e.article.content},null,8,de)])):(l(),i("div",ue,t[8]||(t[8]=[s("p",null,"Artigo não encontrado.",-1)])))]),s("div",me,[s("div",ce,[t[13]||(t[13]=s("h3",null,"Assine para novas atualizações.",-1)),s("form",{onSubmit:t[6]||(t[6]=_((...n)=>e.submitNewsletterForm&&e.submitNewsletterForm(...n),["prevent"])),class:"form"},[s("div",ge,[q(s("input",{"onUpdate:modelValue":t[5]||(t[5]=n=>e.email=n),type:"email",class:"form-control",id:"email",name:"email",placeholder:"E-mail",required:""},null,512),[[W,e.email]])]),s("div",pe,[s("button",{type:"submit",class:g(["btn",e.isSubmitting?"btn-secondary":e.success?"btn-success":e.error?"btn-danger":"btn-primary"]),disabled:e.isSubmitting},[e.isSubmitting?(l(),i("span",he,t[9]||(t[9]=[s("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),p(" Enviando... ")]))):e.success?(l(),i("span",ve,t[10]||(t[10]=[s("i",{class:"bx bx-check-circle"},null,-1),p(" Sucesso! ")]))):e.error?(l(),i("span",fe,t[11]||(t[11]=[s("i",{class:"bx bx-error"},null,-1),p(" Erro ao enviar! ")]))):(l(),i("span",ye,t[12]||(t[12]=[s("i",{class:"bx bx-send"},null,-1),p(" Inscrever-se ")])))],10,be)])],32)])])])])])])}const Te=C(X,[["render",ke],["__scopeId","data-v-22e6802d"]]);export{Te as default};
