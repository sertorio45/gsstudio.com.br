import{_ as C,a as D}from"./BxN-ZLv9.js";import{_ as x}from"./CgaGhswL.js";import{a as w}from"./CCb-kr4I.js";import{u as N}from"./BpKwVwkH.js";import{u as U}from"./B3vTvjbi.js";import{d as V,c as u,f as A,q as z,E as r,G as e,z as v,I as _,H as b,F as h,X as T,D as d,Y as G,Z as P,W as I}from"./BvFpDmto.js";const R=V({name:"Blog",setup(){const s=u([]),t=u([]),p=u(!0),l=u(!1),m="https://str-gsstudio.gsstudio.com.br",y="1",i=4,c=u(i);U({meta:[{name:"robots",content:"index,follow"},{name:"canonical",content:"https://www.gsstudio.com.br/blog"}]}),N({title:"Blog | GS STUDIO",description:"Artigos para você aprender, novidades sobre tecnologia, marketing e toda área de comunicação on e offline.",ogTitle:"Blog | GS STUDIO",ogDescription:"Artigos para você aprender, novidades sobre tecnologia, marketing e toda área de comunicação on e offline.",ogUrl:"https://gsstudio.com.br/blog",ogSiteName:"GS STUDIO",ogLocale:"pt_BR"});const o=async a=>{try{const n=await w.get(`${m}/tenants/${a}`);s.value=n.data.articles.sort((g,B)=>new Date(B.published_at).getTime()-new Date(g.published_at).getTime()).map(g=>({...g,imageLoaded:!1}))}catch(n){console.error("Error fetching articles:",n)}finally{p.value=!1}},f=()=>{l.value||!k.value||(l.value=!0,setTimeout(()=>{c.value+=i,l.value=!1},1e3))},S=A(()=>s.value.slice(0,c.value)),k=A(()=>c.value<s.value.length),$=async()=>{try{const a=await w.get(`${m}/categories`);t.value=a.data}catch(a){console.error("Error fetching categories:",a)}},E=a=>a.thumb&&a.thumb.url?new URL(a.thumb.url,m).href:"https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp",L=a=>{const n=a.target;n.src="https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp"},M=a=>{const n=t.value.find(g=>g.id===a);return n?n.title:"Categoria desconhecida"};return z(()=>{o(y),$()}),{articles:S,loading:p,loadingMore:l,getArticleImage:E,getCategoryTitle:M,loadMoreArticles:f,hasMoreArticles:k,handleImageError:L}}}),j={class:"py-5 bg-dark d-flex my-5",id:"topo"},O={class:"container d-flex justify-content-center align-items-center my-5 py-5"},F={class:"row"},H={class:"col text-center text-light my-2"},q={class:"my-2"},W={href:"#blog"},X={class:"py-5 justify-content-center align-content-center",id:"blog"},Y={class:"container my-5"},Z={class:"row"},J={class:"card"},K={class:"image-container"},Q=["src","alt","onLoad"],ee={class:"card-body"},te={class:"mb-2"},se={class:"article-category"},oe={class:"row my-5"},ae={class:"col d-flex align-content-center justify-content-center"},ne=["disabled"],ie={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},re={key:1};function de(s,t,p,l,m,y){const i=D,c=x;return d(),r(h,null,[e("section",j,[e("div",O,[e("div",F,[e("div",H,[e("div",q,[v(i,{to:"/",class:"text-light"},{default:_(()=>t[2]||(t[2]=[b("Página inicial")])),_:1}),t[3]||(t[3]=b(" / ")),t[4]||(t[4]=e("span",null,"Blog",-1))]),t[5]||(t[5]=e("h1",{class:"text-light"},"Blog",-1)),e("a",W,[v(c,{icon:"bx bxs-chevrons-down my-3",fontSize:"3em",color:"#fff"})])])])])]),e("section",X,[e("div",Y,[e("div",Z,[s.loading&&s.articles.length===0?(d(),r(h,{key:0},T(4,o=>e("div",{class:"col-md-3 my-5",key:o},t[6]||(t[6]=[G('<div class="card" data-v-330d1faf><div class="image-container" data-v-330d1faf><div class="skeleton skeleton-img" data-v-330d1faf></div></div><div class="card-body" data-v-330d1faf><div class="mb-2" data-v-330d1faf><div class="skeleton skeleton-category" data-v-330d1faf></div></div><div class="skeleton skeleton-title" data-v-330d1faf></div></div></div>',1)]))),64)):(d(!0),r(h,{key:1},T(s.articles,o=>(d(),r("div",{class:"col-sm-3 my-2",key:o.id},[e("div",J,[e("div",K,[v(i,{to:`${o.slug}`},{default:_(()=>[e("img",{src:s.getArticleImage(o),class:P(["img-fluid blur-effect",{blurred:!o.imageLoaded}]),alt:o.titulo,onLoad:f=>o.imageLoaded=!0,onError:t[0]||(t[0]=f=>s.handleImageError(f)),loading:"lazy"},null,42,Q)]),_:2},1032,["to"])]),e("div",ee,[e("div",te,[e("span",se,I(s.getCategoryTitle(o.category)),1)]),v(i,{to:`${o.slug}`},{default:_(()=>[b(I(o.titulo),1)]),_:2},1032,["to"])])])]))),128))]),e("div",oe,[e("div",ae,[e("button",{onClick:t[1]||(t[1]=(...o)=>s.loadMoreArticles&&s.loadMoreArticles(...o)),disabled:s.loadingMore||!s.hasMoreArticles,class:"btn btn-primary"},[s.loadingMore?(d(),r("span",ie)):(d(),r("span",re,"Ver mais artigos"))],8,ne)])])])])],64)}const ve=C(R,[["render",de],["__scopeId","data-v-330d1faf"]]);export{ve as default};
