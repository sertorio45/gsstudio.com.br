import{a as y}from"./CCb-kr4I.js";import{u as C,b as M,_ as F}from"./CI5We7y3.js";import{u as U}from"./Da_IcbVn.js";import{u as H}from"./BEIu_bu7.js";import{d as R,c as r,w as V,q as z,E as n,G as t,F as j,X as q,Y as A,W as L,Z as g,C as _,_ as G,$ as W,H as b,D as l}from"./BvFpDmto.js";const O=R({name:"ArticleDetail",setup(){const s=r(null),e=r(!0),p=r(!1),f=r([]),h=C(),v=M(),a="https://str-gsstudio.gsstudio.com.br",d=r(""),u=r(!1),m=r(!1),c=r(!1),I=async o=>{try{const i=await y.get(`${a}/articles?slug=${o}`);i.data.length&&(s.value=i.data[0])}catch(i){console.error("Erro ao buscar o artigo:",i)}finally{e.value=!1}},k=o=>o.thumb&&o.thumb.url?new URL(o.thumb.url,a).href:"https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp",S=o=>{if(!o)return"";const i={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(o).toLocaleDateString("pt-BR",i)},T=o=>o&&o.thumb&&o.thumb.url,E=()=>{p.value=!0},$=o=>{const i=o.target;i.src="https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp"},D=()=>{v.go(-1)},B=o=>{o.name==="Link"?navigator.clipboard.writeText(o.url):window.open(o.url,"_blank","noopener,noreferrer")},N=async()=>{u.value=!0,m.value=!1,c.value=!1;const o="https://webhook.gsstudio.com.br/webhook/gsstudionewsletter";try{const i=await y.post(o,{email:d.value},{headers:{"Content-Type":"application/json"}});i.status>=200&&i.status<300?(m.value=!0,setTimeout(()=>{d.value="",m.value=!1},2e3)):c.value=!0}catch{c.value=!0}finally{u.value=!1}};return V(s,o=>{var i;if(o){const w=window.location.href;U({title:o.titulo,description:o.seo_description,keywords:o.seo_keywords,ogTitle:o.titulo,ogDescription:o.seo_description,ogUrl:w,ogSiteName:"GS STUDIO",ogImage:(i=o.thumb)!=null&&i.url?k(o):"https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp",ogLocale:"pt_BR"}),H({meta:[{name:"robots",content:"index, follow"},{name:"canonical",content:w}]})}}),console.log(h.params.slug),z(async()=>{const o=h.params.slug;await I(o),f.value=[{name:"Facebook",url:`https://facebook.com/sharer/sharer.php?u=${window.location.href}`,icon:"bx bxl-facebook"},{name:"Twitter",url:`https://twitter.com/intent/tweet?url=${window.location.href}`,icon:"bx bxl-twitter"},{name:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&url=${window.location.href}`,icon:"bx bxl-linkedin"},{name:"WhatsApp",url:`https://wa.me/?text=${window.location.href}`,icon:"bx bxl-whatsapp"},{name:"Email",url:`mailto:?subject=Confira este artigo&body=${window.location.href}`,icon:"bx bx-envelope"},{name:"Link",url:window.location.href,icon:"bx bx-link"}]}),{article:s,loading:e,imageLoaded:p,email:d,socialNetworks:f,getArticleImage:k,hasThumbnail:T,formatDate:S,onImageLoad:E,goBack:D,share:B,submitNewsletterForm:N,handleImageError:$,isSubmitting:u,success:m,error:c}}}),X={class:"my-5",id:"article-detail"},Y={class:"container my-5"},Z={class:"row"},J={class:"col-lg-2 col-sm-12 col-md-12 mb-4"},K={class:"back-fixed"},P={class:"social-share d-flex"},Q=["href","title","onClick"],x={class:"col-sm-7 col-md-12 col-lg-7"},ss={key:0},es={key:1,class:"content_blog"},os={class:"mb-3 mx-0"},ts={class:"article-category"},as=["innerHTML"],is={class:"my-4"},ns={key:0},ls=["srcset"],rs=["src","alt"],ds=["innerHTML"],us={key:2},ms={class:"col-sm-12 col-md-12 col-lg-3"},cs={class:"newsletter-cta p-4 bg-light rounded news-fixed my-xl-0 my-4"},gs={class:"mb-3"},bs={class:""},ps=["disabled"],fs={key:0},hs={key:1},vs={key:2},ks={key:3};function ws(s,e,p,f,h,v){return l(),n("main",null,[t("section",X,[t("div",Y,[t("div",Z,[t("div",J,[t("div",K,[t("button",{onClick:e[0]||(e[0]=(...a)=>s.goBack&&s.goBack(...a)),class:"btn btn-primary-border"},"< Voltar"),t("div",P,[(l(!0),n(j,null,q(s.socialNetworks,(a,d)=>(l(),n("a",{key:d,href:a.url,target:"_blank",class:"social-icon",title:a.name,onClick:_(u=>s.share(a),["prevent"])},[t("i",{class:g(a.icon)},null,2)],8,Q))),128))])])]),t("div",x,[s.loading?(l(),n("div",ss,e[7]||(e[7]=[A('<div class="d-flex mb-3" data-v-8654ff1e><div class="skeleton skeleton-category me-2" data-v-8654ff1e></div><div class="skeleton skeleton-date" data-v-8654ff1e></div></div><div class="skeleton skeleton-title mb-3" data-v-8654ff1e></div><div class="skeleton skeleton-img mb-3" data-v-8654ff1e></div><div class="skeleton skeleton-content mb-3" data-v-8654ff1e></div>',4)]))):s.article?(l(),n("div",es,[t("div",os,[t("span",ts,L(s.article.category.title),1),t("span",{innerHTML:s.formatDate(s.article.published_at),class:"mx-3 publish_date"},null,8,as)]),t("h1",null,L(s.article.titulo),1),t("div",is,[s.hasThumbnail(s.article)?(l(),n("picture",ns,[t("source",{srcset:s.getArticleImage(s.article),onLoad:e[1]||(e[1]=(...a)=>s.onImageLoad&&s.onImageLoad(...a))},null,40,ls),t("img",{src:s.getArticleImage(s.article),class:g(["img-fluid blur-effect",{blurred:!s.imageLoaded}]),alt:s.article.titulo,onLoad:e[2]||(e[2]=(...a)=>s.onImageLoad&&s.onImageLoad(...a)),onError:e[3]||(e[3]=(...a)=>s.handleImageError&&s.handleImageError(...a)),loading:"lazy"},null,42,rs)])):(l(),n("img",{key:1,src:"https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp",class:g(["img-fluid blur-effect",{blurred:!s.imageLoaded}]),alt:"Default Image",loading:"lazy",onLoad:e[4]||(e[4]=(...a)=>s.onImageLoad&&s.onImageLoad(...a)),style:{width:"100%"}},null,34))]),t("div",{innerHTML:s.article.content},null,8,ds)])):(l(),n("div",us,e[8]||(e[8]=[t("p",null,"Artigo não encontrado.",-1)])))]),t("div",ms,[t("div",cs,[e[13]||(e[13]=t("h3",null,"Assine para novas atualizações.",-1)),t("form",{onSubmit:e[6]||(e[6]=_((...a)=>s.submitNewsletterForm&&s.submitNewsletterForm(...a),["prevent"])),class:"form"},[t("div",gs,[G(t("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>s.email=a),type:"email",class:"form-control",id:"email",name:"email",placeholder:"E-mail",required:""},null,512),[[W,s.email]])]),t("div",bs,[t("button",{type:"submit",class:g(["btn",s.isSubmitting?"btn-secondary":s.success?"btn-success":s.error?"btn-danger":"btn-primary"]),disabled:s.isSubmitting},[s.isSubmitting?(l(),n("span",fs,e[9]||(e[9]=[t("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),b(" Enviando... ")]))):s.success?(l(),n("span",hs,e[10]||(e[10]=[t("i",{class:"bx bx-check-circle"},null,-1),b(" Sucesso! ")]))):s.error?(l(),n("span",vs,e[11]||(e[11]=[t("i",{class:"bx bx-error"},null,-1),b(" Erro ao enviar! ")]))):(l(),n("span",ks,e[12]||(e[12]=[t("i",{class:"bx bx-send"},null,-1),b(" Inscrever-se ")])))],10,ps)])],32)])])])])])])}const Ts=F(O,[["render",ws],["__scopeId","data-v-8654ff1e"]]);export{Ts as default};
