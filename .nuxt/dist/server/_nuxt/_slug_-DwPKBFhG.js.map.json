{"file":"_slug_-DwPKBFhG.js","mappings":"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","names":["article","socialNetworks","_ssrRenderAttrs","_ssrRenderList","_ssrRenderAttr","_ssrRenderClass","_ssrInterpolate","hasThumbnail","getArticleImage","imageLoaded","_ssrRenderStyle","isSubmitting","error"],"sources":["../../../../pages/[slug].vue"],"sourcesContent":["<template>\n  <main>\n    <section class=\"my-5\" id=\"article-detail\">\n      <div class=\"container my-5\">\n        <div class=\"row\">\n          <div class=\"col-lg-2 col-sm-12 col-md-12 mb-4\">\n            <div class=\"back-fixed\">\n              <button @click=\"goBack\" class=\"btn btn-primary-border\">< Voltar</button>\n              <!-- Ícones de Compartilhamento Social -->\n              <div class=\"social-share d-flex\">\n                <a\n                  v-for=\"(network, index) in socialNetworks\"\n                  :key=\"index\"\n                  :href=\"network.url\"\n                  target=\"_blank\"\n                  class=\"social-icon\"\n                  :title=\"network.name\"\n                  @click.prevent=\"share(network)\"\n                >\n                  <i :class=\"network.icon\"></i>\n                </a>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-sm-7 col-md-12 col-lg-7\">\n            <div v-if=\"loading\">\n              <div class=\"d-flex mb-3\">\n                <div class=\"skeleton skeleton-category me-2\"></div>\n                <div class=\"skeleton skeleton-date\"></div>\n              </div>\n              <div class=\"skeleton skeleton-title mb-3\"></div>\n              <div class=\"skeleton skeleton-img mb-3\"></div>\n              <div class=\"skeleton skeleton-content mb-3\"></div>\n            </div>\n            <div v-else-if=\"article\" class=\"content_blog\">\n              <div class=\"mb-3 mx-0\">\n                <span class=\"article-category\">{{ article.category.title }}</span>\n                <span v-html=\"formatDate(article.published_at)\" class=\"mx-3 publish_date\"></span>\n              </div>\n              <h1>{{ article.titulo }}</h1>\n              <div class=\"my-4\">\n                <picture v-if=\"hasThumbnail(article)\">\n                  <source :srcset=\"getArticleImage(article)\" @load=\"onImageLoad\" />\n                  <img \n                    :src=\"getArticleImage(article)\" \n                    class=\"img-fluid blur-effect\" \n                    :class=\"{ 'blurred': !imageLoaded }\" \n                    :alt=\"article.titulo\" \n                    @load=\"onImageLoad\" \n                    @error=\"handleImageError\" \n                    loading=\"lazy\" \n                  />\n                </picture>\n                <img \n                  v-else \n                  src=\"https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp\" \n                  class=\"img-fluid blur-effect\" \n                  :class=\"{ 'blurred': !imageLoaded }\" \n                  alt=\"Default Image\" \n                  loading=\"lazy\" \n                  @load=\"onImageLoad\" \n                  style=\"width: 100%;\" \n                />\n              </div>\n              <div v-html=\"article.content\"></div>\n            </div>\n            <div v-else>\n              <p>Artigo não encontrado.</p>\n            </div>\n          </div>\n          <div class=\"col-sm-12 col-md-12 col-lg-3\">\n            <!-- Formulário de Newsletter -->\n            <div class=\"newsletter-cta p-4 bg-light rounded news-fixed my-xl-0 my-4\">\n              <h3>Assine para novas atualizações.</h3>\n              <form @submit.prevent=\"submitNewsletterForm\" class=\"form\">\n                <div class=\"mb-3\">\n                  <input v-model=\"email\" type=\"email\" class=\"form-control\" id=\"email\" name=\"email\" placeholder=\"E-mail\" required>\n                </div>\n                <div class=\"\">\n                  <button\n                    type=\"submit\"\n                    :class=\"['btn', isSubmitting ? 'btn-secondary' : success ? 'btn-success' : error ? 'btn-danger' : 'btn-primary']\"\n                    :disabled=\"isSubmitting\"\n                  >\n                    <span v-if=\"isSubmitting\">\n                      <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                      Enviando...\n                    </span>\n                    <span v-else-if=\"success\">\n                      <i class=\"bx bx-check-circle\"></i> Sucesso!\n                    </span>\n                    <span v-else-if=\"error\">\n                      <i class=\"bx bx-error\"></i> Erro ao enviar!\n                    </span>\n                    <span v-else>\n                      <i class=\"bx bx-send\"></i> Inscrever-se\n                    </span>\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </main>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, onMounted } from 'vue';\nimport axios from 'axios';\nimport { useRoute, useRouter } from 'vue-router';\n\ninterface Article {\n  id: number;\n  slug: string;\n  titulo: string;\n  seo_description: string;\n  seo_keywords: string;\n  thumb?: {\n    url?: string;\n  };\n  published_at: string;\n  category: {\n    id: number;\n    title: string;\n  };\n  content: string;\n}\n\ninterface SocialNetwork {\n  name: string;\n  url: string;\n  icon: string;\n}\n\nexport default defineComponent({\n  name: 'ArticleDetail',\n  setup() {\n    const article = ref<Article | null>(null);\n    const loading = ref(true);\n    const imageLoaded = ref(false); // Controle de carregamento da imagem\n    const socialNetworks = ref<SocialNetwork[]>([]);\n    const route = useRoute();\n    const router = useRouter();\n    const baseURL = import.meta.env.VITE_STRAPI_URL;\n    const email = ref('');\n\n    const isSubmitting = ref(false);\n    const success = ref(false);\n    const error = ref(false);\n\n    const fetchArticleBySlug = async (slug: string) => {\n      try {\n        const response = await axios.get(`${baseURL}/articles?slug=${slug}`);\n        if (response.data.length) {\n          article.value = response.data[0];\n        }\n      } catch (err) {\n        console.error('Erro ao buscar o artigo:', err);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const getArticleImage = (article: Article) => {\n      if (article.thumb && article.thumb.url) {\n        return new URL(article.thumb.url, baseURL).href;\n      }\n      return 'https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp'; // Substitua por uma URL de imagem padrão\n    };\n\n    const formatDate = (date: string) => {\n      if (!date) return '';\n      const options: Intl.DateTimeFormatOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n      return new Date(date).toLocaleDateString('pt-BR', options);\n    };\n\n    const hasThumbnail = (article: Article) => {\n      return article && article.thumb && article.thumb.url;\n    };\n\n    const onImageLoad = () => {\n      imageLoaded.value = true;\n    };\n\n    const handleImageError = (event: Event) => {\n      const img = event.target as HTMLImageElement;\n      img.src = 'https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp';\n    };\n\n    const goBack = () => {\n      router.go(-1);\n    };\n\n    const share = (network: SocialNetwork) => {\n      if (network.name === 'Link') {\n        navigator.clipboard.writeText(network.url);\n      } else {\n        window.open(network.url, '_blank', 'noopener,noreferrer');\n      }\n    };\n\n    const submitNewsletterForm = async () => {\n      isSubmitting.value = true;\n      success.value = false;\n      error.value = false;\n      const webhookUrl = 'https://webhook.gsstudio.com.br/webhook/gsstudionewsletter';\n      try {\n        const response = await axios.post(webhookUrl, { email: email.value }, {\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        });\n\n        // Verifica se o status HTTP está dentro da faixa 200 (indica sucesso)\n        if (response.status >= 200 && response.status < 300) {\n          success.value = true; // Envio bem-sucedido\n          setTimeout(() => {\n            email.value = ''; // Limpa o campo de email após o envio\n            success.value = false; // Reseta o estado de sucesso após um tempo\n          }, 2000);\n        } else {\n          error.value = true; // O webhook retornou erro\n        }\n      } catch (err) {\n        error.value = true; // Ocorreu um erro na solicitação\n      } finally {\n        isSubmitting.value = false;\n      }\n    };\n\n    onMounted(async () => {\n      const slug = route.params.slug as string;\n      await fetchArticleBySlug(slug);\n      if (process.client) {\n        socialNetworks.value = [\n          { name: 'Facebook', url: `https://facebook.com/sharer/sharer.php?u=${window.location.href}`, icon: 'bx bxl-facebook' },\n          { name: 'Twitter', url: `https://twitter.com/intent/tweet?url=${window.location.href}`, icon: 'bx bxl-twitter' },\n          { name: 'LinkedIn', url: `https://www.linkedin.com/shareArticle?mini=true&url=${window.location.href}`, icon: 'bx bxl-linkedin' },\n          { name: 'WhatsApp', url: `https://wa.me/?text=${window.location.href}`, icon: 'bx bxl-whatsapp' },\n          { name: 'Email', url: `mailto:?subject=Confira este artigo&body=${window.location.href}`, icon: 'bx bx-envelope' },\n          { name: 'Link', url: window.location.href, icon: 'bx bx-link' },\n        ];\n      }\n    });\n\n    return {\n      article,\n      loading,\n      imageLoaded,\n      email,\n      socialNetworks,\n      getArticleImage,\n      hasThumbnail,\n      formatDate,\n      onImageLoad,\n      goBack,\n      share,\n      submitNewsletterForm,\n      handleImageError,\n      isSubmitting,\n      success,\n      error,\n    };\n  },\n});\n</script>\n\n<style scoped>\n.content_blog h2 {\n  font-size: 20px !important;\n}\n\n#article-detail {\n  padding-top: 1.9rem;\n}\n\n.btn-primary-border {\n  border: 1px solid var(--bs-primary);\n  background: transparent;\n  color: var(--bs-primary);\n}\n\n@keyframes shimmer {\n  0% {\n    background-position: -200% 0;\n  }\n  100% {\n    background-position: 200% 0;\n  }\n}\n\n.skeleton {\n  background: linear-gradient(to right, #e0e0e0 0%, #f8f8f8 50%, #e0e0e0 100%);\n  background-size: 200% 100%;\n  border-radius: 4px;\n  margin: 10px 0;\n  animation: shimmer 1.5s infinite;\n}\n\n.skeleton-img {\n  width: 100%;\n  height: 400px;\n  background-size: 200% 100%;\n  animation: shimmer 1.5s infinite;\n}\n\n.skeleton-title {\n  height: 30px;\n  width: 100%;\n  animation: shimmer 1.5s infinite;\n}\n\n.skeleton-category {\n  height: 20px;\n  width: 30%;\n  animation: shimmer 1.5s infinite;\n}\n\n.skeleton-date {\n  height: 20px;\n  width: 20%;\n  animation: shimmer 1.5s infinite;\n}\n\n.skeleton-content {\n  height: 100px;\n  width: 100%;\n  animation: shimmer 1.5s infinite;\n}\n\n.blur-effect {\n  transition: filter 0.5s ease;\n}\n.blurred {\n  filter: blur(20px);\n}\n\n.social-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  background-color: #000;\n  color: #fff !important;\n  font-size: 14px;\n  text-decoration: none;\n  transition: background-color 0.3s;\n}\n\n.social-icon:hover {\n  background-color: var(--bs-secondary);\n  color: #fff;\n}\n\n@media (max-width: 575px) {\n  .publish_date {\n    font-size: 0.9rem !important;\n  }\n  .social-links {\n    display: none;\n  }\n  .social-share {\n    gap: 0.3em;\n  }\n  .back-fixed {\n    display: inline-flex;\n    position: fixed !important;\n    z-index: 9998 !important;\n    width: 100%;\n    background-color: #fff;\n    bottom: 510px;\n    padding-top: 25px;\n    padding-bottom: 25px;\n    gap: 10px;\n  }\n}\n\n@media (min-width: 576px) {\n  .publish_date {\n    font-size: 1.1rem !important;\n  }\n  .social-links {\n    display: none;\n  }\n  .back-fixed {\n    display: inline-flex;\n    position: fixed !important;\n    z-index: 9998 !important;\n    width: 100%;\n    background-color: #fff;\n    padding-top: 20px;\n    padding-bottom: 20px;\n    margin-top: -60px;\n    gap: 10px;\n  }\n  .social-share {\n    display: inline-flex;\n    gap: 0.3em;\n  }\n}\n\n@media (min-width: 1200px) {\n  .back-fixed {\n    display: block;\n    position: fixed !important;\n    z-index: 9998 !important;\n    width: 100%;\n    background-color: transparent;\n    padding-top: 0px;\n    padding-bottom: 0px;\n    margin-top: 0px;\n  }\n\n  .news-fixed {\n    position: fixed;\n    width: 20vw;\n  }\n  .social-share {\n    display: flex;\n    gap: 0.3em;\n    margin-top: 0.5em;\n  }\n  .social-icon {\n    width: 25px;\n    height: 25px;\n    padding: 0.18em;\n    margin-top: 10px;\n  }\n}\n</style>\n"],"version":3}