{"file":"blog-wsaH31jP.js","mappings":"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","names":["__nuxt_component_1","_ssrRenderComponent","_withCtx","_push","_parent","loading","_ssrRenderList","_ssrRenderAttr","_ssrRenderClass","_createVNode","_ssrInterpolate","_ssrIncludeBooleanAttr"],"sources":["../../../../pages/blog.vue"],"sourcesContent":["<template>\n  <!-- Fale conosco -->\n  <section class=\"py-5 bg-dark d-flex my-5\" id=\"topo\">\n    <div class=\"container d-flex justify-content-center align-items-center my-5 py-5\">\n      <div class=\"row\">\n        <div class=\"col text-center text-light my-2\">\n          <div class=\"my-2\">\n            <NuxtLink to=\"/\" class=\"text-light\">Página inicial</NuxtLink> /\n            <span>Blog</span>\n          </div>\n          <h1 class=\"text-light\">Blog</h1>\n          <a href=\"#blog\"><Icon icon=\"bx bxs-chevrons-down my-3\" fontSize=\"3em\" color=\"#fff\"/></a>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <!-- Blog Section -->\n  <section class=\"py-5 justify-content-center align-content-center\" id=\"blog\">\n    <div class=\"container my-5\">\n      <div class=\"row\">\n        <!-- Skeleton Cards -->\n        <div v-if=\"loading && articles.length === 0\" class=\"col-md-3 my-5\" v-for=\"n in 4\" :key=\"n\">\n          <div class=\"card\">\n            <div class=\"image-container\">\n              <div class=\"skeleton skeleton-img\"></div>\n            </div>\n            <div class=\"card-body\">\n              <div class=\"mb-2\">\n                <div class=\"skeleton skeleton-category\"></div>\n              </div>\n              <div class=\"skeleton skeleton-title\"></div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Actual Cards -->\n        <div v-else class=\"col-sm-3 my-2\" v-for=\"article in articles\" :key=\"article.id\">\n          <div class=\"card\">\n            <div class=\"image-container\">\n              <NuxtLink :to=\"`${article.slug}`\">\n                <img\n                  :src=\"getArticleImage(article)\" \n                  class=\"img-fluid blur-effect\"\n                  :class=\"{ 'blurred': !article.imageLoaded }\"\n                  :alt=\"article.titulo\"\n                  @load=\"article.imageLoaded = true\"\n                  @error=\"handleImageError($event)\"\n                  loading=\"lazy\"\n                />\n              </NuxtLink>\n            </div>\n            <div class=\"card-body\">\n              <div class=\"mb-2\">\n                <span class=\"article-category\">{{ getCategoryTitle(article.category) }}</span>\n              </div>\n              <NuxtLink :to=\"`${article.slug}`\">\n                {{ article.titulo }}\n              </NuxtLink>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Load More Button -->\n      <div class=\"row my-5\">\n        <div class=\"col d-flex align-content-center justify-content-center\">\n          <button @click=\"loadMoreArticles\" :disabled=\"loadingMore || !hasMoreArticles\" class=\"btn btn-primary\">\n            <span v-if=\"loadingMore\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n            <span v-else>Ver mais artigos</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, onMounted, computed } from 'vue';\nimport axios from 'axios';\nimport type { Article, Category } from '~/types';\n\nexport default defineComponent({\n  name: 'Blog',\n  setup() {\n    const articles = ref<Article[]>([]);\n    const categories = ref<Category[]>([]);\n    const loading = ref(true);\n    const loadingMore = ref(false);\n    const baseURL = import.meta.env.VITE_STRAPI_URL || 'https://str-gsstudio.gsstudio.com.br';\n    const VITE_STRAPI_TENANT_ID = import.meta.env.VITE_STRAPI_TENANT_ID;\n    const articlesPerPage = 4;\n    const loadedArticlesCount = ref(articlesPerPage); // Inicialmente carrega apenas 4 artigos\n\n    useHead ({\n      meta: [\n        { name: 'robots', content: 'index,follow' },\n        { name: 'canonical', content: 'https://www.gsstudio.com.br/blog' },\n      ],\n    })\n    \n    useSeoMeta({\n      title: 'Blog | GS STUDIO',\n      description: 'Artigos para você aprender, novidades sobre tecnologia, marketing e toda área de comunicação on e offline.',\n      ogTitle: 'Blog | GS STUDIO',\n      ogDescription: 'Artigos para você aprender, novidades sobre tecnologia, marketing e toda área de comunicação on e offline.',\n      ogUrl: 'https://gsstudio.com.br/blog',\n      ogSiteName: 'GS STUDIO',\n      ogLocale: 'pt_BR',\n    });\n\n    const fetchArticles = async (tenantId: string) => {\n      try {\n        const response = await axios.get(`${baseURL}/tenants/${tenantId}`);\n        articles.value = response.data.articles\n          .sort((a: Article, b: Article) => new Date(b.published_at).getTime() - new Date(a.published_at).getTime())\n          .map((article: Article) => ({ ...article, imageLoaded: false }));\n      } catch (error) {\n        console.error('Error fetching articles:', error);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const loadMoreArticles = () => {\n      if (loadingMore.value || !hasMoreArticles.value) return;\n\n      loadingMore.value = true;\n\n      setTimeout(() => {\n        loadedArticlesCount.value += articlesPerPage;\n        loadingMore.value = false;\n      }, 1000);\n    };\n\n    const displayedArticles = computed(() => {\n      return articles.value.slice(0, loadedArticlesCount.value);\n    });\n\n    const hasMoreArticles = computed(() => {\n      return loadedArticlesCount.value < articles.value.length;\n    });\n\n    const fetchCategories = async () => {\n      try {\n        const response = await axios.get(`${baseURL}/categories`);\n        categories.value = response.data;\n      } catch (error) {\n        console.error('Error fetching categories:', error);\n      }\n    };\n\n    const getArticleImage = (article: Article) => {\n      if (article.thumb && article.thumb.url) {\n        return new URL(article.thumb.url, baseURL).href;\n      }\n      return 'https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp';\n    };\n\n    const handleImageError = (event: Event) => {\n      const img = event.target as HTMLImageElement;\n      img.src = 'https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp';\n    };\n\n    const getCategoryTitle = (categoryId: number) => {\n      const category = categories.value.find(cat => cat.id === categoryId);\n      return category ? category.title : 'Categoria desconhecida';\n    };\n\n    onMounted(() => {\n      fetchArticles(VITE_STRAPI_TENANT_ID);\n      fetchCategories();\n    });\n\n    return {\n      articles: displayedArticles,\n      loading,\n      loadingMore,\n      getArticleImage,\n      getCategoryTitle,\n      loadMoreArticles,\n      hasMoreArticles,\n      handleImageError,\n    };\n  },\n});\n</script>\n\n\n<style scoped>\n.topo .col {\n  display: flex;\n  align-items: center;\n}\n\n.topo .col h1 {\n  margin-left: 5px;\n  display: inline;\n  font-weight: normal !important;\n  color: #000;\n}\n\n.card {\n  margin-bottom: 20px;\n  border: 0;\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  transition: box-shadow 0.3s, margin-bottom 0.3s, transform 0.3s;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.image-container {\n  overflow: hidden;\n  border-radius: 10px;\n  width: 100%;\n  height: 200px;\n  align-items: center;\n  justify-content: center;\n}\n\n.card img {\n  transition: transform 0.3s;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.card-body {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n}\n\n.card:hover {\n  transform: scale(0.97);\n  box-shadow: none;\n}\n\n.card-body a {\n  text-decoration: none;\n  color: var(--color-text) !important;\n  transition: color 0.3s, text-decoration 0.3s;\n}\n\n.card-body a:hover {\n  text-decoration: underline;\n  color: var(--color-text) !important;\n}\n\n.card h5 {\n  font-size: 16px !important;\n}\n\n.card img:hover {\n  transform: scale(1.5);\n}\n\n.card img {\n  transition: transform 0.3s ease;\n}\n\n@keyframes shimmer {\n  0% {\n    background-position: -200% 0;\n  }\n  100% {\n    background-position: 200% 0;\n  }\n}\n\n.skeleton {\n  background: linear-gradient(to right, #e0e0e0 0%, #f8f8f8 50%, #e0e0e0 100%);\n  background-size: 200% 100%;\n  border-radius: 4px;\n  animation: shimmer 1.5s infinite;\n}\n\n.skeleton-img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  margin: 0;\n}\n\n.skeleton-title {\n  height: 20px;\n  width: 100%;\n  background: linear-gradient(to right, #e0e0e0 0%, #f8f8f8 50%, #e0e0e0 100%);\n  background-size: 200% 100%;\n  animation: shimmer 1.5s infinite;\n}\n\n.skeleton-category {\n  height: 15px;\n  width: 60%;\n  background: linear-gradient(to right, #e0e0e0 0%, #f8f8f8 50%, #e0e0e0 100%);\n  background-size: 200% 100%;\n  animation: shimmer 1.5s infinite;\n}\n\n.blur-effect {\n  transition: filter 0.2s ease;\n}\n\n.blurred {\n  filter: blur(20px);\n}\n</style>\n"],"version":3}