import{a as k}from"./CCb-kr4I.js";import{u as N,b as C,_ as M}from"./BxN-ZLv9.js";import{u as F}from"./BpKwVwkH.js";import{u as H}from"./B3vTvjbi.js";import{d as R,c as r,w as U,q as V,E as n,G as t,F as z,X as j,Y as q,W as y,Z as g,C as L,_ as G,$ as W,H as b,D as l}from"./BvFpDmto.js";const A=R({name:"ArticleDetail",setup(){const s=r(null),e=r(!0),p=r(!1),h=r([]),f=N(),v=C(),i="https://str-gsstudio.gsstudio.com.br",d=r(""),u=r(!1),c=r(!1),m=r(!1),I=async o=>{try{const a=await k.get(`${i}/articles?slug=${o}`);if(a.status>=200&&a.data.length)s.value=a.data[0];else throw console.error("Erro ao buscar o artigo:",a.status,a.statusText),new Error("Artigo não encontrado.")}catch(a){console.error("Erro ao buscar o artigo:",a),s.value=null}finally{e.value=!1}},w=o=>{var a;return(a=o.thumb)!=null&&a.url?new URL(o.thumb.url,i).href:"https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp"},_=o=>{if(!o)return"";const a={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(o).toLocaleDateString("pt-BR",a)},E=o=>{var a;return!!((a=o.thumb)!=null&&a.url)},T=()=>{p.value=!0},$=o=>{const a=o.target;a.src="https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp"},S=()=>{window.history.length>1?v.back():v.push("/")},D=o=>{o.name==="Link"?navigator.clipboard.writeText(o.url):window.open(o.url,"_blank","noopener,noreferrer")},B=async()=>{u.value=!0,c.value=!1,m.value=!1;const o="https://webhook.gsstudio.com.br/webhook/gsstudionewsletter";try{(await k.post(o,{email:d.value},{headers:{"Content-Type":"application/json"}})).status>=200?(c.value=!0,setTimeout(()=>{d.value="",c.value=!1},2e3)):m.value=!0}catch{m.value=!0}finally{u.value=!1}};return U(s,o=>{var a;o&&(F({title:o.titulo,description:o.seo_description,keywords:o.seo_keywords,ogTitle:o.titulo,ogDescription:o.seo_description,ogUrl:`https://www.gsstudio.com.br/blog/${o.slug}`,ogSiteName:"GS STUDIO",ogImage:(a=o.thumb)!=null&&a.url?w(o):"https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp",ogLocale:"pt_BR"}),H({meta:[{name:"robots",content:"index, follow"},{name:"canonical",content:`https://www.gsstudio.com.br/${o.slug}`}]}))}),f.params.slug,V(async()=>{const o=f.params.slug;await I(o),h.value=[{name:"Facebook",url:`https://facebook.com/sharer/sharer.php?u=${window.location.href}`,icon:"bx bxl-facebook"},{name:"Twitter",url:`https://twitter.com/intent/tweet?url=${window.location.href}`,icon:"bx bxl-twitter"},{name:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&url=${window.location.href}`,icon:"bx bxl-linkedin"},{name:"WhatsApp",url:`https://wa.me/?text=${window.location.href}`,icon:"bx bxl-whatsapp"},{name:"Email",url:`mailto:?subject=Confira este artigo&body=${window.location.href}`,icon:"bx bx-envelope"},{name:"Link",url:window.location.href,icon:"bx bx-link"}]}),{article:s,loading:e,imageLoaded:p,email:d,socialNetworks:h,getArticleImage:w,hasThumbnail:E,formatDate:_,onImageLoad:T,goBack:S,share:D,submitNewsletterForm:B,handleImageError:$,isSubmitting:u,success:c,error:m}}}),O={class:"my-5",id:"article-detail"},X={class:"container my-5"},Y={class:"row"},Z={class:"col-lg-2 col-sm-12 col-md-12 mb-4"},J={class:"back-fixed"},K={class:"social-share d-flex"},P=["href","title","onClick"],Q={class:"col-sm-7 col-md-12 col-lg-7"},x={key:0},ss={key:1,class:"content_blog"},es={class:"mb-3 mx-0"},os={class:"article-category"},ts=["innerHTML"],as={class:"my-4"},is={key:0},ns=["srcset"],ls=["src","alt"],rs=["innerHTML"],ds={key:2},us={class:"col-sm-12 col-md-12 col-lg-3"},cs={class:"newsletter-cta p-4 bg-light rounded news-fixed my-xl-0 my-4"},ms={class:"mb-3"},gs=["disabled"],bs={key:0},ps={key:1},hs={key:2},fs={key:3};function vs(s,e,p,h,f,v){return l(),n("main",null,[t("section",O,[t("div",X,[t("div",Y,[t("div",Z,[t("div",J,[t("button",{onClick:e[0]||(e[0]=(...i)=>s.goBack&&s.goBack(...i)),class:"btn btn-primary-border"},"< Voltar"),t("div",K,[(l(!0),n(z,null,j(s.socialNetworks,(i,d)=>(l(),n("a",{key:d,href:i.url,target:"_blank",class:"social-icon",title:i.name,onClick:L(u=>s.share(i),["prevent"])},[t("i",{class:g(i.icon)},null,2)],8,P))),128))])])]),t("div",Q,[s.loading?(l(),n("div",x,e[7]||(e[7]=[q('<div class="d-flex mb-3" data-v-4a7dc1d7><div class="skeleton skeleton-category me-2" data-v-4a7dc1d7></div><div class="skeleton skeleton-date" data-v-4a7dc1d7></div></div><div class="skeleton skeleton-title mb-3" data-v-4a7dc1d7></div><div class="skeleton skeleton-img mb-3" data-v-4a7dc1d7></div><div class="skeleton skeleton-content mb-3" data-v-4a7dc1d7></div>',4)]))):s.article?(l(),n("div",ss,[t("div",es,[t("span",os,y(s.article.category.title),1),t("span",{innerHTML:s.formatDate(s.article.published_at),class:"mx-3 publish_date"},null,8,ts)]),t("h1",null,y(s.article.titulo),1),t("div",as,[s.hasThumbnail(s.article)?(l(),n("picture",is,[t("source",{srcset:s.getArticleImage(s.article),onLoad:e[1]||(e[1]=(...i)=>s.onImageLoad&&s.onImageLoad(...i))},null,40,ns),t("img",{src:s.getArticleImage(s.article),class:g(["img-fluid blur-effect",{blurred:!s.imageLoaded}]),alt:s.article.titulo,onLoad:e[2]||(e[2]=(...i)=>s.onImageLoad&&s.onImageLoad(...i)),onError:e[3]||(e[3]=(...i)=>s.handleImageError&&s.handleImageError(...i)),loading:"lazy"},null,42,ls)])):(l(),n("img",{key:1,src:"https://s3.gsstudio.com.br/gsstudio/site/img/thumb_blog_gsstudio.webp",class:g(["img-fluid blur-effect",{blurred:!s.imageLoaded}]),alt:"Default Image",loading:"lazy",onLoad:e[4]||(e[4]=(...i)=>s.onImageLoad&&s.onImageLoad(...i)),style:{width:"100%"}},null,34))]),t("div",{innerHTML:s.article.content},null,8,rs)])):(l(),n("div",ds,e[8]||(e[8]=[t("p",null,"Artigo não encontrado.",-1)])))]),t("div",us,[t("div",cs,[e[13]||(e[13]=t("h3",null,"Assine para novas atualizações.",-1)),t("form",{onSubmit:e[6]||(e[6]=L((...i)=>s.submitNewsletterForm&&s.submitNewsletterForm(...i),["prevent"])),class:"form"},[t("div",ms,[G(t("input",{"onUpdate:modelValue":e[5]||(e[5]=i=>s.email=i),type:"email",class:"form-control",id:"email",name:"email",placeholder:"E-mail",required:""},null,512),[[W,s.email]])]),t("div",null,[t("button",{type:"submit",class:g(["btn",s.isSubmitting?"btn-secondary":s.success?"btn-success":s.error?"btn-danger":"btn-primary"]),disabled:s.isSubmitting},[s.isSubmitting?(l(),n("span",bs,e[9]||(e[9]=[t("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),b(" Enviando... ")]))):s.success?(l(),n("span",ps,e[10]||(e[10]=[t("i",{class:"bx bx-check-circle"},null,-1),b(" Sucesso! ")]))):s.error?(l(),n("span",hs,e[11]||(e[11]=[t("i",{class:"bx bx-error"},null,-1),b(" Erro ao enviar! ")]))):(l(),n("span",fs,e[12]||(e[12]=[t("i",{class:"bx bx-send"},null,-1),b(" Inscrever-se ")])))],10,gs)])],32)])])])])])])}const _s=M(A,[["render",vs],["__scopeId","data-v-4a7dc1d7"]]);export{_s as default};
