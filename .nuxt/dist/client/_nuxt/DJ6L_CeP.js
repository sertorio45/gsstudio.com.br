import{u as U}from"./BTjh6ETO.js";import{c as _,b as J,t as K,$ as A,a0 as W,w as G,u as g,a as Q,o as V,g as X,d as O,f as B,J as p,z as w,N as $,L as r,F as Y,a1 as Z,a2 as ee,_ as N,O as te,C as R,a3 as ae,a4 as se,a5 as j,M as E,I as v}from"./DEIQAQ4v.js";import{u as ne,b as S,c as oe,d as re,e as ie,_ as le}from"./nFDv636E.js";const ce=n=>n==="defer"||n===!1;function de(...n){var H;const s=typeof n[n.length-1]=="string"?n.pop():void 0;typeof n[0]!="string"&&n.unshift(s);let[t,c,e={}]=n;if(typeof t!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof c!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const a=ne(),y=c,b=()=>S.value,k=()=>a.isHydrating?a.payload.data[t]:a.static.data[t];e.server=e.server??!0,e.default=e.default??b,e.getCachedData=e.getCachedData??k,e.lazy=e.lazy??!1,e.immediate=e.immediate??!0,e.deep=e.deep??S.deep,e.dedupe=e.dedupe??"cancel";const f=e.getCachedData(t,a),x=f!=null;if(!a._asyncData[t]||!e.immediate){(H=a.payload._errors)[t]??(H[t]=S.errorValue);const u=e.deep?_:J;a._asyncData[t]={data:u(x?f:e.default()),pending:_(!x),error:K(a.payload._errors,t),status:_("idle"),_default:e.default}}const i={...a._asyncData[t]};delete i._default,i.refresh=i.execute=(u={})=>{if(a._asyncDataPromises[t]){if(ce(u.dedupe??e.dedupe))return a._asyncDataPromises[t];a._asyncDataPromises[t].cancelled=!0}if(u._initial||a.isHydrating&&u._initial!==!1){const m=u._initial?f:e.getCachedData(t,a);if(m!=null)return Promise.resolve(m)}i.pending.value=!0,i.status.value="pending";const h=new Promise((m,d)=>{try{m(y(a))}catch(P){d(P)}}).then(async m=>{if(h.cancelled)return a._asyncDataPromises[t];let d=m;e.transform&&(d=await e.transform(m)),e.pick&&(d=fe(d,e.pick)),a.payload.data[t]=d,i.data.value=d,i.error.value=S.errorValue,i.status.value="success"}).catch(m=>{if(h.cancelled)return a._asyncDataPromises[t];i.error.value=oe(m),i.data.value=g(e.default()),i.status.value="error"}).finally(()=>{h.cancelled||(i.pending.value=!1,delete a._asyncDataPromises[t])});return a._asyncDataPromises[t]=h,a._asyncDataPromises[t]},i.clear=()=>ue(a,t);const C=()=>i.refresh({_initial:!0}),M=e.server!==!1&&a.payload.serverRendered;{const u=Q();if(u&&!u._nuxtOnBeforeMountCbs){u._nuxtOnBeforeMountCbs=[];const d=u._nuxtOnBeforeMountCbs;A(()=>{d.forEach(P=>{P()}),d.splice(0,d.length)}),W(()=>d.splice(0,d.length))}M&&a.isHydrating&&(i.error.value||f!=null)?(i.pending.value=!1,i.status.value=i.error.value?"error":"success"):u&&(a.payload.serverRendered&&a.isHydrating||e.lazy)&&e.immediate?u._nuxtOnBeforeMountCbs.push(C):e.immediate&&C();const h=X();if(e.watch){const d=G(e.watch,()=>i.refresh());h&&V(d)}const m=a.hook("app:data:refresh",async d=>{(!d||d.includes(t))&&await i.refresh()});h&&V(m)}const T=Promise.resolve(a._asyncDataPromises[t]).then(()=>i);return Object.assign(T,i),T}function ue(n,s){s in n.payload.data&&(n.payload.data[s]=void 0),s in n.payload._errors&&(n.payload._errors[s]=S.errorValue),n._asyncData[s]&&(n._asyncData[s].data.value=void 0,n._asyncData[s].error.value=S.errorValue,n._asyncData[s].pending.value=!1,n._asyncData[s].status.value="idle"),s in n._asyncDataPromises&&(n._asyncDataPromises[s]&&(n._asyncDataPromises[s].cancelled=!0),n._asyncDataPromises[s]=void 0)}function fe(n,s){const t={};for(const c of s)t[c]=n[c];return t}const me=n=>{const s=Object.create(null);for(const t in n){const c=n[t];c!==void 0&&(s[t]=c)}return s},z=(n,s)=>(t,c)=>(U(()=>n({...me(t),...c.attrs},c)),()=>{var e,a;return s?(a=(e=c.slots).default)==null?void 0:a.call(e):null}),pe={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:[String,Object,Array],contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:String,tabindex:String,title:String,translate:String},ve=O({name:"Title",inheritAttrs:!1,setup:z((n,{slots:s})=>{var t,c,e;return{title:((e=(c=(t=s.default)==null?void 0:t.call(s))==null?void 0:c[0])==null?void 0:e.children)||null}})}),he=O({name:"Meta",inheritAttrs:!1,props:{...pe,charset:String,content:String,httpEquiv:String,name:String,body:Boolean,renderPriority:[String,Number]},setup:z(n=>{const s={...n};return s.httpEquiv&&(s["http-equiv"]=s.httpEquiv,delete s.httpEquiv),{meta:[s]}})}),ge=O({name:"Head",inheritAttrs:!1,setup:(n,s)=>()=>{var t,c;return(c=(t=s.slots).default)==null?void 0:c.call(t)}}),_e={class:"my-5",id:"article-detail"},ye={class:"container my-5"},be={class:"row"},De={class:"col-lg-2 col-sm-12 col-md-12 mb-4"},we={class:"back-fixed"},Se={class:"social-share d-flex"},ke=["href","title","onClick"],xe={class:"col-sm-7 col-md-12 col-lg-7"},Ce={key:0},Pe={key:1,class:"content_blog"},Be={class:"mb-3 mx-0"},Ee={class:"article-category"},Me=["innerHTML"],Te=["innerHTML"],He={key:2},Le={class:"col-sm-12 col-md-12 col-lg-3"},Ne={class:"newsletter-cta p-4 bg-light rounded news-fixed my-xl-0 my-4"},Oe={class:"mb-3"},Ve={class:""},$e=["disabled"],Re={key:0},je={key:1},ze={key:2},qe={key:3},Fe=O({__name:"[slug]",setup(n){const s=re(),t=ie(),c="https://str-gsstudio.gsstudio.com.br",e=_(""),a=_(!1),y=_(!1),b=_(!1),k=_(s.params.slug),{data:f,pending:x,error:i}=de("fetchArticle",async()=>{if(!k.value)throw new Error("Slug não fornecido");const o=await $fetch(`${c}/articles?slug=${k.value}`);if(o.length>0)return o[0];throw new Error("Artigo não encontrado")}),C=B(()=>{var o;return((o=f.value)==null?void 0:o.titulo)||"Artigo"}),M=B(()=>{var o;return((o=f.value)==null?void 0:o.seo_description)||"Leia mais sobre marketing, design e desenvolvimento web."}),T=B(()=>{var o,l;return((l=(o=f.value)==null?void 0:o.thumb)==null?void 0:l.url)||"https://gsstudio.com.br/img/thumb_gsstudio.jpg"}),H=B(()=>{var o;return((o=f.value)==null?void 0:o.slug)===k.value});!x.value&&!H.value&&t.push("/404");const u=o=>{if(!o)return"";const l={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(o).toLocaleDateString("pt-BR",l)},h=()=>{t.go(-1)},m=B(()=>{const o=window.location.href;return[{name:"Facebook",url:`https://facebook.com/sharer/sharer.php?u=${o}`,icon:"bx bxl-facebook"},{name:"Twitter",url:`https://twitter.com/intent/tweet?url=${o}`,icon:"bx bxl-twitter"},{name:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&url=${o}`,icon:"bx bxl-linkedin"},{name:"WhatsApp",url:`https://wa.me/?text=${o}`,icon:"bx bxl-whatsapp"},{name:"Email",url:`mailto:?subject=Confira este artigo&body=${o}`,icon:"bx bx-envelope"},{name:"Link",url:o,icon:"bx bx-link"}]}),d=o=>{o.name==="Link"?navigator.clipboard.writeText(o.url):window.open(o.url,"_blank","noopener,noreferrer")},P=async()=>{a.value=!0,y.value=!1,b.value=!1;const o="https://webhook.gsstudio.com.br/webhook/gsstudionewsletter";try{await $fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.value})})?(y.value=!0,setTimeout(()=>{e.value="",y.value=!1},2e3)):b.value=!0}catch{b.value=!0}finally{a.value=!1}};return(o,l)=>{const q=ve,L=he,F=ge;return v(),p("section",_e,[w(F,null,{default:$(()=>[w(q,null,{default:$(()=>[E(N(C.value),1)]),_:1}),w(L,{name:"description",content:M.value},null,8,["content"]),w(L,{property:"og:title",content:C.value},null,8,["content"]),w(L,{property:"og:description",content:M.value},null,8,["content"]),w(L,{property:"og:image",content:T.value},null,8,["content"])]),_:1}),r("div",ye,[r("div",be,[r("div",De,[r("div",we,[r("button",{onClick:h,class:"btn btn-primary-border"},"< Voltar"),r("div",Se,[(v(!0),p(Y,null,Z(m.value,(D,I)=>(v(),p("a",{key:I,href:D.url,target:"_blank",class:"social-icon",title:D.name,onClick:R(Ie=>d(D),["prevent"])},[r("i",{class:j(D.icon)},null,2)],8,ke))),128))])])]),r("div",xe,[g(x)?(v(),p("div",Ce,l[1]||(l[1]=[ee('<div class="d-flex mb-3" data-v-d426ec05><div class="skeleton skeleton-category me-2" data-v-d426ec05></div><div class="skeleton skeleton-date" data-v-d426ec05></div></div><div class="skeleton skeleton-title mb-3" data-v-d426ec05></div><div class="skeleton skeleton-content mb-3" data-v-d426ec05></div>',3)]))):g(f)?(v(),p("div",Pe,[r("div",Be,[r("span",Ee,N(g(f).category.title),1),r("span",{innerHTML:u(g(f).published_at),class:"mx-3 publish_date"},null,8,Me)]),r("h1",null,N(g(f).titulo),1),r("div",{innerHTML:g(f).content,class:"my-4"},null,8,Te)])):g(i)?(v(),p("div",He,[r("p",null,"Erro: "+N(g(i).message),1)])):te("",!0)]),r("div",Le,[r("div",Ne,[l[6]||(l[6]=r("h3",null,"Assine para novas atualizações.",-1)),r("form",{onSubmit:R(P,["prevent"]),class:"form"},[r("div",Oe,[ae(r("input",{"onUpdate:modelValue":l[0]||(l[0]=D=>e.value=D),type:"email",class:"form-control",id:"email",name:"email",placeholder:"E-mail",required:""},null,512),[[se,e.value]])]),r("div",Ve,[r("button",{type:"submit",class:j(["btn",a.value?"btn-secondary":y.value?"btn-success":b.value?"btn-danger":"btn-primary"]),disabled:a.value},[a.value?(v(),p("span",Re,l[2]||(l[2]=[r("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),E(" Enviando... ")]))):y.value?(v(),p("span",je,l[3]||(l[3]=[r("i",{class:"bx bx-check-circle"},null,-1),E(" Sucesso! ")]))):b.value?(v(),p("span",ze,l[4]||(l[4]=[r("i",{class:"bx bx-error"},null,-1),E(" Erro ao enviar! ")]))):(v(),p("span",qe,l[5]||(l[5]=[r("i",{class:"bx bx-send"},null,-1),E(" Inscrever-se ")])))],10,$e)])],32)])])])])])}}}),Ae=le(Fe,[["__scopeId","data-v-d426ec05"]]);export{Ae as default};
